@import "tailwindcss";
@import "tailwindcss/utilities";

/* ====== Design tokens ====== */
:root { /* default: moonpunk (oscuro) */
  /* Colores base */
  --bg: 210 11% 5%;          /* noche espacial */
  --surface: 220 15% 10%;    /* panel */
  --fg: 220 30% 98%;         /* texto */
  --muted: 220 8% 70%;       /* texto secundario */
  --accent: 186 100% 50%;    /* cyan lunar neon */
  --accent-2: 330 100% 71%;  /* magenta kawaii */
  --success: 106 72% 70%;
  --warning: 41 100% 60%;
  --error: 0 84% 60%;
  --ring: 186 100% 50%;
  --radius: 1.25rem;         /* esquinas super redondeadas */
  
  /* Compatibilidad con shadcn/ui */
  --background: var(--bg);
  --foreground: var(--fg);
  --card: var(--surface);
  --card-foreground: var(--fg);
  --popover: var(--surface);
  --primary: var(--accent);
  --primary-foreground: 0 0% 4%;
  --secondary: 220 10% 15%;
  --secondary-foreground: var(--fg);
  --muted: 220 8% 20%;
  --muted-foreground: 220 8% 70%;
  --accent-foreground: 0 0% 4%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 220 10% 20%;
  --input: 220 10% 20%;
  --ring: var(--accent);
}

[data-theme="light"] { /* solarpunk (claro) */
  /* Colores base */
  --bg: 90 43% 98%;          /* crema solar */
  --surface: 0 0% 100%;      /* tarjeta */
  --fg: 90 10% 10%;          /* texto */
  --muted: 90 10% 40%;       /* texto secundario */
  --accent: 163 77% 41%;     /* verde energía viva */
  --accent-2: 28 100% 63%;   /* naranja soleado */
  --success: 142 76% 36%;
  --warning: 38 92% 50%;
  --error: 0 84% 60%;
  --ring: 163 77% 41%;
  --radius: 1.25rem;
  
  /* Compatibilidad con shadcn/ui */
  --background: var(--bg);
  --foreground: var(--fg);
  --card: var(--surface);
  --card-foreground: var(--fg);
  --popover: var(--surface);
  --primary: var(--accent);
  --primary-foreground: 0 0% 100%;
  --secondary: 90 20% 95%;
  --secondary-foreground: var(--fg);
  --muted: 90 10% 95%;
  --muted-foreground: 90 10% 40%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 90 10% 90%;
  --input: 90 10% 90%;
  --ring: var(--accent);
}

/* ====== Base ====== */
@layer base {
  * {
    border-color: hsl(var(--border));
  }
  
  html, body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "rlig" 1, "calt" 1;
    transition: background-color 0.2s ease, color 0.2s ease;
  }
  
  /* Asegurar que los enlaces hereden el color del texto */
  a {
    color: hsl(var(--foreground));
    text-decoration: none;
  }
  
  /* Estilos para la selección de texto */
  ::selection {
    background-color: hsl(var(--accent) / 0.2);
    color: hsl(var(--accent-foreground));
  }
  
  /* Barra de desplazamiento personalizada */
  ::-webkit-scrollbar {
    width: 0.5rem;
    height: 0.5rem;
  }
  
  ::-webkit-scrollbar-track {
    background-color: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.2);
    border-radius: 9999px;
    transition: background-color 0.2s ease;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.3);
  }
}

/* ====== Utilidades kawaii / retrofuturo ====== */
@layer utilities {
  .k-card {
    border-radius: var(--radius);
    background-color: var(--surface);
    border: 1px solid color-mix(in srgb, var(--fg) 9%, transparent);
  }
  
  .k-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    font-weight: 500;
    border-radius: calc(var(--radius) - 0.5rem);
  }
  
  .k-btn-accent {
    background-color: var(--accent);
    color: var(--accent-foreground);
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    box-shadow: 0 8px 24px color-mix(in srgb, var(--accent) 20%, transparent);
  }
  
  .k-btn-accent:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px color-mix(in srgb, var(--accent) 40%, transparent);
  }
  
  .k-btn-ghost {
    border: 1px dashed color-mix(in srgb, var(--fg) 25%, transparent);
    color: var(--fg);
    transition: background-color 0.2s, border-color 0.2s, color 0.2s;
  }
  
  .k-btn-ghost:hover {
    background-color: color-mix(in srgb, var(--accent) 10%, transparent);
    border-color: color-mix(in srgb, var(--accent) 50%, transparent);
  }
  
  .k-chip {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    line-height: 1rem;
    font-weight: 600;
    border-radius: 9999px;
    background: color-mix(in srgb, var(--accent) 20%, transparent);
    color: var(--fg);
  }
  
  .k-glow {
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 35%, transparent), 
                0 0 32px color-mix(in srgb, var(--accent) 25%, transparent);
  }
  
  .k-gradient-hero {
    background:
      radial-gradient(1200px 500px at 20% -10%, color-mix(in srgb, var(--accent) 25%, transparent), transparent 60%),
      radial-gradient(900px 400px at 80% 110%, color-mix(in srgb, var(--accent-2) 22%, transparent), transparent 60%);
  }
  
  .k-focus:focus-visible {
    outline: none;
    box-shadow: var(--ring);
  }
  
  /* Utilidades de texto */
  .text-gradient {
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-image: linear-gradient(to right, var(--accent), var(--accent-2));
  }
  
  /* Utilidades de fondo */
  .bg-surface {
    background-color: var(--surface);
  }
  
  .bg-bg {
    background-color: var(--bg);
  }
  
  /* Utilidades de texto */
  .text-fg {
    color: var(--fg);
  }
  
  .text-muted {
    color: var(--muted);
  }
  
  /* Utilidades de borde */
  .border-border {
    border-color: color-mix(in srgb, var(--fg) 10%, transparent);
  }
}
